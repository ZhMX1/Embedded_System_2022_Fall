; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\flash\obj\gprs_test.o --asm_dir=.\Flash\List\ --list_dir=.\Flash\List\ --depend=.\flash\obj\gprs_test.d --cpu=Cortex-M3 --apcs=interwork -O3 --diag_suppress=9931,870 -I..\..\Libraries\CMSIS\Device\ST\STM32F10x\Include -I..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\Libraries\STM32_USB-FS-Device_Driver\inc -I..\..\Libraries\CMSIS\Include -I..\..\User\bsp -I..\..\User\bsp\inc -I..\..\User\app\inc -I..\..\User\fonts -I..\..\User\images -I..\..\User\uIP\uip -I..\..\User\uIP\http -I..\..\User\uIP\dm9000 -I..\..\User\FatFS\src -I..\..\User\usb_mass -I..\..\User\CH376\inc -I.\RTE\_Flash -ID:\Keil\ARM\PACK\ARM\CMSIS\5.0.1\CMSIS\Include -ID:\Keil\ARM\PACK\Keil\STM32F1xx_DFP\2.1.0\Device\Include -D__MICROLIB -D__UVISION_VERSION=523 -D_RTE_ -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD --omf_browse=.\flash\obj\gprs_test.crf ..\..\User\app\src\gprs_test.c]
                          THUMB

                          AREA ||i.DispFormGPRS||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  DispFormGPRS PROC
;;;580    */
;;;581    static void DispFormGPRS(void)
000000  b510              PUSH     {r4,lr}
;;;582    {
;;;583    	//LCD_ClrScr(CL_BTN_FACE);
;;;584    
;;;585    	/* 分组框 */
;;;586    	LCD_DrawGroupBox(&FormGPRS->Box1);
000002  4c3e              LDR      r4,|L1.252|
000004  b090              SUB      sp,sp,#0x40           ;582
000006  6820              LDR      r0,[r4,#0]  ; FormGPRS
000008  3028              ADDS     r0,r0,#0x28
00000a  f7fffffe          BL       LCD_DrawGroupBox
;;;587    
;;;588    	/* 静态标签 */
;;;589    	LCD_DrawLabel(&FormGPRS->Label1);
00000e  6820              LDR      r0,[r4,#0]  ; FormGPRS
000010  303c              ADDS     r0,r0,#0x3c
000012  f7fffffe          BL       LCD_DrawLabel
;;;590    	LCD_DrawLabel(&FormGPRS->Label3);
000016  6820              LDR      r0,[r4,#0]  ; FormGPRS
000018  3064              ADDS     r0,r0,#0x64
00001a  f7fffffe          BL       LCD_DrawLabel
;;;591    	LCD_DrawLabel(&FormGPRS->Label5);
00001e  6820              LDR      r0,[r4,#0]  ; FormGPRS
000020  308c              ADDS     r0,r0,#0x8c
000022  f7fffffe          BL       LCD_DrawLabel
;;;592    	LCD_DrawLabel(&FormGPRS->Label7);
000026  6820              LDR      r0,[r4,#0]  ; FormGPRS
000028  30b4              ADDS     r0,r0,#0xb4
00002a  f7fffffe          BL       LCD_DrawLabel
;;;593    	LCD_DrawLabel(&FormGPRS->Label9);
00002e  6820              LDR      r0,[r4,#0]  ; FormGPRS
000030  30dc              ADDS     r0,r0,#0xdc
000032  f7fffffe          BL       LCD_DrawLabel
;;;594    
;;;595    	/* 按钮 */
;;;596    	LCD_DrawButton(&FormGPRS->BtnRet);
000036  6820              LDR      r0,[r4,#0]  ; FormGPRS
000038  f50070ce          ADD      r0,r0,#0x19c
00003c  f7fffffe          BL       LCD_DrawButton
;;;597    	LCD_DrawButton(&FormGPRS->Btn1);
000040  6820              LDR      r0,[r4,#0]  ; FormGPRS
000042  f5007092          ADD      r0,r0,#0x124
000046  f7fffffe          BL       LCD_DrawButton
;;;598    	LCD_DrawButton(&FormGPRS->Btn2);
00004a  6820              LDR      r0,[r4,#0]  ; FormGPRS
00004c  f500709e          ADD      r0,r0,#0x13c
000050  f7fffffe          BL       LCD_DrawButton
;;;599    	LCD_DrawButton(&FormGPRS->Btn3);
000054  6820              LDR      r0,[r4,#0]  ; FormGPRS
000056  f50070aa          ADD      r0,r0,#0x154
00005a  f7fffffe          BL       LCD_DrawButton
;;;600    	LCD_DrawButton(&FormGPRS->Btn4);
00005e  6820              LDR      r0,[r4,#0]  ; FormGPRS
000060  f50070b6          ADD      r0,r0,#0x16c
000064  f7fffffe          BL       LCD_DrawButton
;;;601    	LCD_DrawButton(&FormGPRS->Btn5);	
000068  6820              LDR      r0,[r4,#0]  ; FormGPRS
00006a  f50070c2          ADD      r0,r0,#0x184
00006e  f7fffffe          BL       LCD_DrawButton
;;;602    
;;;603    	/* 编辑框 */
;;;604    	LCD_DrawEdit(&FormGPRS->Edit1);
000072  6820              LDR      r0,[r4,#0]  ; FormGPRS
000074  30f0              ADDS     r0,r0,#0xf0
000076  f7fffffe          BL       LCD_DrawEdit
;;;605    
;;;606    	/* 动态标签 */
;;;607    	LCD_DrawLabel(&FormGPRS->Label2);
00007a  6820              LDR      r0,[r4,#0]  ; FormGPRS
00007c  3050              ADDS     r0,r0,#0x50
00007e  f7fffffe          BL       LCD_DrawLabel
;;;608    
;;;609    	/* 网络注册状态 */
;;;610    	if (FormGPRS->ucNetStatus == CREG_NO_REG)
000082  6820              LDR      r0,[r4,#0]  ; FormGPRS
000084  f89011d4          LDRB     r1,[r0,#0x1d4]
000088  2900              CMP      r1,#0
00008a  d02b              BEQ      |L1.228|
;;;611    	{
;;;612    		FormGPRS->Label4.pCaption = "没有注册, 已停止搜寻";
;;;613    	}
;;;614    	else if (FormGPRS->ucNetStatus == CREG_LOCAL_OK)
00008c  2901              CMP      r1,#1
00008e  d02b              BEQ      |L1.232|
;;;615    	{
;;;616    		FormGPRS->Label4.pCaption = "已注册到本地网络      ";
;;;617    	}
;;;618    	else if (FormGPRS->ucNetStatus == CREG_SEARCH)
000090  2902              CMP      r1,#2
000092  d02b              BEQ      |L1.236|
;;;619    	{
;;;620    		FormGPRS->Label4.pCaption = "正在搜寻网络运营商  ";
;;;621    	}
;;;622    	else if (FormGPRS->ucNetStatus == CREG_REJECT)
000094  2903              CMP      r1,#3
000096  d02b              BEQ      |L1.240|
;;;623    	{
;;;624    		FormGPRS->Label4.pCaption = "注册被拒绝          ";
;;;625    	}
;;;626    	else if (FormGPRS->ucNetStatus == CREG_REMOTE_OK)
000098  2905              CMP      r1,#5
00009a  d02b              BEQ      |L1.244|
;;;627    	{
;;;628    		FormGPRS->Label4.pCaption = "已注册到漫游网络     ";
;;;629    	}
;;;630    	else
;;;631    	{
;;;632    		FormGPRS->Label4.pCaption = "xxx                 ";
00009c  a118              ADR      r1,|L1.256|
00009e  bf00              NOP                            ;628
                  |L1.160|
0000a0  f8c01088          STR      r1,[r0,#0x88]         ;628
0000a4  3078              ADDS     r0,r0,#0x78           ;628
;;;633    	}
;;;634    	LCD_DrawLabel(&FormGPRS->Label4);
0000a6  f7fffffe          BL       LCD_DrawLabel
;;;635    
;;;636    	if (FormGPRS->ucAudioCh == 0)
0000aa  6820              LDR      r0,[r4,#0]  ; FormGPRS
0000ac  f89011d5          LDRB     r1,[r0,#0x1d5]
0000b0  2900              CMP      r1,#0
0000b2  d021              BEQ      |L1.248|
;;;637    	{
;;;638    		FormGPRS->Label6.pCaption = "第1通道 INTMIC, INTEAR";
;;;639    	}
;;;640    	else
;;;641    	{
;;;642    		FormGPRS->Label6.pCaption = "第2通道 EXTMIC, EXTEAR";
0000b4  a118              ADR      r1,|L1.280|
0000b6  bf00              NOP      
                  |L1.184|
0000b8  f8c010b0          STR      r1,[r0,#0xb0]
0000bc  30a0              ADDS     r0,r0,#0xa0
;;;643    	}
;;;644    	LCD_DrawLabel(&FormGPRS->Label6);
0000be  f7fffffe          BL       LCD_DrawLabel
;;;645    
;;;646    	/* 耳机音量 */
;;;647    	{
;;;648    		char buf[64];
;;;649    
;;;650    		sprintf(buf, "Ear = %d, Mic = %d", FormGPRS->ucEarVolume, FormGPRS->ucMicGain);
0000c2  6820              LDR      r0,[r4,#0]  ; FormGPRS
0000c4  a11a              ADR      r1,|L1.304|
0000c6  f9b031d8          LDRSH    r3,[r0,#0x1d8]
0000ca  f89021d6          LDRB     r2,[r0,#0x1d6]
0000ce  4668              MOV      r0,sp
0000d0  f7fffffe          BL       __2sprintf
;;;651    		FormGPRS->Label8.pCaption = buf;
0000d4  6820              LDR      r0,[r4,#0]  ; FormGPRS
0000d6  f8c0d0d8          STR      sp,[r0,#0xd8]
0000da  30c8              ADDS     r0,r0,#0xc8
;;;652    		LCD_DrawLabel(&FormGPRS->Label8);
0000dc  f7fffffe          BL       LCD_DrawLabel
;;;653    	}
;;;654    }
0000e0  b010              ADD      sp,sp,#0x40
0000e2  bd10              POP      {r4,pc}
                  |L1.228|
0000e4  a117              ADR      r1,|L1.324|
0000e6  e7db              B        |L1.160|
                  |L1.232|
0000e8  a11c              ADR      r1,|L1.348|
0000ea  e7d9              B        |L1.160|
                  |L1.236|
0000ec  a121              ADR      r1,|L1.372|
0000ee  e7d7              B        |L1.160|
                  |L1.240|
0000f0  a126              ADR      r1,|L1.396|
0000f2  e7d5              B        |L1.160|
                  |L1.244|
0000f4  a12b              ADR      r1,|L1.420|
0000f6  e7d3              B        |L1.160|
                  |L1.248|
0000f8  a130              ADR      r1,|L1.444|
0000fa  e7dd              B        |L1.184|
;;;655    
                          ENDP

                  |L1.252|
                          DCD      ||.data||
                  |L1.256|
000100  78787820          DCB      "xxx                 ",0
000104  20202020
000108  20202020
00010c  20202020
000110  20202020
000114  00      
000115  00                DCB      0
000116  00                DCB      0
000117  00                DCB      0
                  |L1.280|
000118  b5da32cd          DCB      181,218,"2",205,168,181,192," EXTMIC, EXTEAR",0
00011c  a8b5c020
000120  4558544d
000124  49432c20
000128  45585445
00012c  415200  
00012f  00                DCB      0
                  |L1.304|
000130  45617220          DCB      "Ear = %d, Mic = %d",0
000134  3d202564
000138  2c204d69
00013c  63203d20
000140  256400  
000143  00                DCB      0
                  |L1.324|
000144  c3bbd3d0          DCB      195,187,211,208,215,162,178,225,", ",210,209,205,163,214
000148  d7a2b2e1
00014c  2c20d2d1
000150  cda3d6  
000153  b9cbd1d1          DCB      185,203,209,209,176,0
000157  b000    
000159  00                DCB      0
00015a  00                DCB      0
00015b  00                DCB      0
                  |L1.348|
00015c  d2d1d7a2          DCB      210,209,215,162,178,225,181,189,177,190,181,216,205,248,194
000160  b2e1b5bd
000164  b1beb5d8
000168  cdf8c2  
00016b  e7202020          DCB      231,"      ",0
00016f  20202000
000173  00                DCB      0
                  |L1.372|
000174  d5fdd4da          DCB      213,253,212,218,203,209,209,176,205,248,194,231,212,203,211
000178  cbd1d1b0
00017c  cdf8c2e7
000180  d4cbd3  
000183  aac9cc20          DCB      170,201,204,"  ",0
000187  2000    
000189  00                DCB      0
00018a  00                DCB      0
00018b  00                DCB      0
                  |L1.396|
00018c  d7a2b2e1          DCB      215,162,178,225,177,187,190,220,190,248,"          ",0
000190  b1bbbedc
000194  bef82020
000198  20202020
00019c  20202020
0001a0  00      
0001a1  00                DCB      0
0001a2  00                DCB      0
0001a3  00                DCB      0
                  |L1.420|
0001a4  d2d1d7a2          DCB      210,209,215,162,178,225,181,189,194,254,211,206,205,248,194
0001a8  b2e1b5bd
0001ac  c2fed3ce
0001b0  cdf8c2  
0001b3  e7202020          DCB      231,"     ",0
0001b7  202000  
0001ba  00                DCB      0
0001bb  00                DCB      0
                  |L1.444|
0001bc  b5da31cd          DCB      181,218,"1",205,168,181,192," INTMIC, INTEAR",0
0001c0  a8b5c020
0001c4  494e544d
0001c8  49432c20
0001cc  494e5445
0001d0  415200  
0001d3  00                DCB      0

                          AREA ||i.InitFormGPRS||, CODE, READONLY, ALIGN=2

                  InitFormGPRS PROC
;;;415    */
;;;416    static void InitFormGPRS(void)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;417    {
;;;418    	/* 分组框标题字体 */
;;;419    	FormGPRS->FontBox.FontCode = FC_ST_16;
000004  f8df821c          LDR      r8,|L2.548|
000008  2101              MOVS     r1,#1
;;;420    	FormGPRS->FontBox.BackColor = CL_BTN_FACE;	/* 和背景色相同 */
00000a  f64e725b          MOV      r2,#0xef5b
00000e  f8d80000          LDR      r0,[r8,#0]            ;419  ; FormGPRS
;;;421    	FormGPRS->FontBox.FrontColor = CL_BLACK;
000012  2400              MOVS     r4,#0
;;;422    	FormGPRS->FontBox.Space = 0;
;;;423    
;;;424    	/* 字体1 用于静止标签 */
;;;425    	FormGPRS->FontBlack.FontCode = FC_ST_16;
;;;426    	FormGPRS->FontBlack.BackColor = CL_MASK;		/* 透明色 */
000014  f6491399          MOV      r3,#0x9999
000018  f8801020          STRB     r1,[r0,#0x20]         ;419
00001c  8482              STRH     r2,[r0,#0x24]         ;420
00001e  8444              STRH     r4,[r0,#0x22]         ;421
000020  84c4              STRH     r4,[r0,#0x26]         ;422
000022  7001              STRB     r1,[r0,#0]            ;425
000024  8083              STRH     r3,[r0,#4]
;;;427    	FormGPRS->FontBlack.FrontColor = CL_BLACK;
000026  8044              STRH     r4,[r0,#2]
;;;428    	FormGPRS->FontBlack.Space = 0;
000028  80c4              STRH     r4,[r0,#6]
;;;429    
;;;430    	/* 字体2 用于变化的文字 */
;;;431    	FormGPRS->FontBlue.FontCode = FC_ST_16;
00002a  7201              STRB     r1,[r0,#8]
;;;432    	FormGPRS->FontBlue.BackColor = CL_BTN_FACE;
00002c  8182              STRH     r2,[r0,#0xc]
;;;433    	FormGPRS->FontBlue.FrontColor = CL_BLUE;
00002e  231f              MOVS     r3,#0x1f
000030  8143              STRH     r3,[r0,#0xa]
;;;434    	FormGPRS->FontBlue.Space = 0;
000032  81c4              STRH     r4,[r0,#0xe]
;;;435    
;;;436    	FormGPRS->FontRed.FontCode = FC_ST_16;
000034  7401              STRB     r1,[r0,#0x10]
;;;437    	FormGPRS->FontRed.BackColor = CL_BTN_FACE;
000036  8282              STRH     r2,[r0,#0x14]
;;;438    	FormGPRS->FontRed.FrontColor = CL_RED;
000038  02da              LSLS     r2,r3,#11
00003a  8242              STRH     r2,[r0,#0x12]
;;;439    	FormGPRS->FontRed.Space = 0;
00003c  82c4              STRH     r4,[r0,#0x16]
;;;440    
;;;441    	/* 按钮字体 */
;;;442    	FormGPRS->FontBtn.FontCode = FC_ST_16;
00003e  7601              STRB     r1,[r0,#0x18]
;;;443    	FormGPRS->FontBtn.BackColor = CL_MASK;		/* 透明背景 */
000040  f6491199          MOV      r1,#0x9999
000044  8381              STRH     r1,[r0,#0x1c]
;;;444    	FormGPRS->FontBtn.FrontColor = CL_BLACK;
000046  8344              STRH     r4,[r0,#0x1a]
;;;445    	FormGPRS->FontBtn.Space = 0;
000048  83c4              STRH     r4,[r0,#0x1e]
;;;446    
;;;447    	/* 分组框 */
;;;448    	FormGPRS->Box1.Left = BOX1_X;
00004a  2105              MOVS     r1,#5
00004c  8541              STRH     r1,[r0,#0x2a]
;;;449    	FormGPRS->Box1.Top = BOX1_Y;
00004e  2108              MOVS     r1,#8
000050  8581              STRH     r1,[r0,#0x2c]
;;;450    	FormGPRS->Box1.Height = BOX1_H;
000052  4975              LDR      r1,|L2.552|
;;;451    	FormGPRS->Box1.Width = BOX1_W;
;;;452    	FormGPRS->Box1.pCaption = BOX1_TEXT;
;;;453    	FormGPRS->Box1.Font = &FormGPRS->FontBox;
;;;454    
;;;455    	/* 静态标签 */
;;;456    	FormGPRS->Label1.Left = LABEL1_X;
;;;457    	FormGPRS->Label1.Top = LABEL1_Y;
;;;458    	FormGPRS->Label1.MaxLen = 0;
;;;459    	FormGPRS->Label1.pCaption = LABEL1_TEXT;
000054  a57b              ADR      r5,|L2.580|
;;;460    	FormGPRS->Label1.Font = &FormGPRS->FontBlack;
;;;461    
;;;462    	FormGPRS->Label3.Left = LABEL3_X;
;;;463    	FormGPRS->Label3.Top = LABEL3_Y;
000056  2630              MOVS     r6,#0x30
000058  880b              LDRH     r3,[r1,#0]            ;450  ; g_LcdHeight
;;;464    	FormGPRS->Label3.MaxLen = 0;
;;;465    	FormGPRS->Label3.pCaption = LABEL3_TEXT;
;;;466    	FormGPRS->Label3.Font = &FormGPRS->FontBlack;
;;;467    
;;;468    	FormGPRS->Label5.Left = LABEL5_X;
;;;469    	FormGPRS->Label5.Top = LABEL5_Y;
00005a  2744              MOVS     r7,#0x44
00005c  f1a30112          SUB      r1,r3,#0x12           ;450
000060  85c1              STRH     r1,[r0,#0x2e]         ;450
000062  4972              LDR      r1,|L2.556|
;;;470    	FormGPRS->Label5.MaxLen = 0;
;;;471    	FormGPRS->Label5.pCaption = LABEL5_TEXT;
;;;472    	FormGPRS->Label5.Font = &FormGPRS->FontBlack;
;;;473    
;;;474    	FormGPRS->Label7.Left = LABEL7_X;
;;;475    	FormGPRS->Label7.Top = LABEL7_Y;
000064  f04f0c58          MOV      r12,#0x58
000068  880a              LDRH     r2,[r1,#0]            ;451  ; g_LcdWidth
00006a  f1a2010a          SUB      r1,r2,#0xa            ;451
00006e  8601              STRH     r1,[r0,#0x30]         ;451
000070  a16f              ADR      r1,|L2.560|
000072  6381              STR      r1,[r0,#0x38]         ;453
000074  f1000120          ADD      r1,r0,#0x20           ;453
000078  6341              STR      r1,[r0,#0x34]         ;456
00007a  210b              MOVS     r1,#0xb               ;456
00007c  87c1              STRH     r1,[r0,#0x3e]         ;456
00007e  211c              MOVS     r1,#0x1c              ;457
000080  f8a01040          STRH     r1,[r0,#0x40]         ;457
000084  f8a04046          STRH     r4,[r0,#0x46]         ;458
000088  e9c00512          STRD     r0,r5,[r0,#0x48]      ;459
00008c  250b              MOVS     r5,#0xb               ;462
00008e  f8a05066          STRH     r5,[r0,#0x66]         ;462
000092  f8a06068          STRH     r6,[r0,#0x68]         ;463
000096  f8a0406e          STRH     r4,[r0,#0x6e]         ;464
00009a  a56d              ADR      r5,|L2.592|
00009c  e9c0051c          STRD     r0,r5,[r0,#0x70]      ;465
0000a0  250b              MOVS     r5,#0xb               ;468
0000a2  f8a0508e          STRH     r5,[r0,#0x8e]         ;468
0000a6  f8a07090          STRH     r7,[r0,#0x90]         ;469
0000aa  f8a04096          STRH     r4,[r0,#0x96]         ;470
0000ae  a56b              ADR      r5,|L2.604|
0000b0  e9c00526          STRD     r0,r5,[r0,#0x98]      ;472
0000b4  250b              MOVS     r5,#0xb               ;474
0000b6  f8a050b6          STRH     r5,[r0,#0xb6]         ;474
0000ba  f8a0c0b8          STRH     r12,[r0,#0xb8]
;;;476    	FormGPRS->Label7.MaxLen = 0;
0000be  f8a040be          STRH     r4,[r0,#0xbe]
;;;477    	FormGPRS->Label7.pCaption = LABEL7_TEXT;
0000c2  a569              ADR      r5,|L2.616|
0000c4  e9c00530          STRD     r0,r5,[r0,#0xc0]
;;;478    	FormGPRS->Label7.Font = &FormGPRS->FontBlack;
;;;479    
;;;480    	FormGPRS->Label9.Left = LABEL9_X;
0000c8  250b              MOVS     r5,#0xb
0000ca  f8a050de          STRH     r5,[r0,#0xde]
;;;481    	FormGPRS->Label9.Top = LABEL9_Y;
0000ce  2580              MOVS     r5,#0x80
0000d0  f8a050e0          STRH     r5,[r0,#0xe0]
;;;482    	FormGPRS->Label9.MaxLen = 0;
0000d4  f8a040e6          STRH     r4,[r0,#0xe6]
;;;483    	FormGPRS->Label9.pCaption = LABEL9_TEXT;
0000d8  a569              ADR      r5,|L2.640|
;;;484    	FormGPRS->Label9.Font = &FormGPRS->FontBlack;
0000da  e9c0053a          STRD     r0,r5,[r0,#0xe8]
;;;485    
;;;486    	/* 动态标签 */
;;;487    	FormGPRS->Label2.Left = LABEL2_X;
0000de  256f              MOVS     r5,#0x6f
0000e0  f8a05052          STRH     r5,[r0,#0x52]
;;;488    	FormGPRS->Label2.Top = LABEL2_Y;
0000e4  f8a01054          STRH     r1,[r0,#0x54]
;;;489    	FormGPRS->Label2.MaxLen = 0;
0000e8  f8a0405a          STRH     r4,[r0,#0x5a]
;;;490    	FormGPRS->Label2.pCaption = LABEL2_TEXT;
0000ec  a167              ADR      r1,|L2.652|
0000ee  f8401f60          STR      r1,[r0,#0x60]!
;;;491    	FormGPRS->Label2.Font = &FormGPRS->FontBlue;
0000f2  f1a00158          SUB      r1,r0,#0x58
0000f6  f8401c04          STR      r1,[r0,#-4]
;;;492    
;;;493    	FormGPRS->Label4.Left = LABEL4_X;
0000fa  8345              STRH     r5,[r0,#0x1a]
;;;494    	FormGPRS->Label4.Top = LABEL4_Y;
0000fc  8386              STRH     r6,[r0,#0x1c]
;;;495    	FormGPRS->Label4.MaxLen = 0;
0000fe  8444              STRH     r4,[r0,#0x22]
;;;496    	FormGPRS->Label4.pCaption = LABEL4_TEXT;
000100  a662              ADR      r6,|L2.652|
000102  e9c01609          STRD     r1,r6,[r0,#0x24]
;;;497    	FormGPRS->Label4.Font = &FormGPRS->FontBlue;
;;;498    
;;;499    	FormGPRS->Label6.Left = LABEL6_X;
000106  f8a05042          STRH     r5,[r0,#0x42]
;;;500    	FormGPRS->Label6.Top = LABEL6_Y;
00010a  f8a07044          STRH     r7,[r0,#0x44]
;;;501    	FormGPRS->Label6.MaxLen = 0;
00010e  f8a0404a          STRH     r4,[r0,#0x4a]
;;;502    	FormGPRS->Label6.pCaption = LABEL6_TEXT;
000112  a55f              ADR      r5,|L2.656|
000114  e9c01513          STRD     r1,r5,[r0,#0x4c]
;;;503    	FormGPRS->Label6.Font = &FormGPRS->FontBlue;
;;;504    
;;;505    	FormGPRS->Label8.Left = LABEL8_X;
000118  25ab              MOVS     r5,#0xab
00011a  f8a0506a          STRH     r5,[r0,#0x6a]
;;;506    	FormGPRS->Label8.Top = LABEL8_Y;
00011e  f8a0c06c          STRH     r12,[r0,#0x6c]
;;;507    	FormGPRS->Label8.MaxLen = 0;
000122  f8a04072          STRH     r4,[r0,#0x72]
;;;508    	FormGPRS->Label8.pCaption = LABEL8_TEXT;
000126  a559              ADR      r5,|L2.652|
;;;509    	FormGPRS->Label8.Font = &FormGPRS->FontBlue;
;;;510    
;;;511    	/* 按钮 */
;;;512    	FormGPRS->BtnRet.Left = BTN_RET_X;
000128  e9c0151d          STRD     r1,r5,[r0,#0x74]
00012c  3a45              SUBS     r2,r2,#0x45           ;509
00012e  f8a0213e          STRH     r2,[r0,#0x13e]
000132  3b2e              SUBS     r3,r3,#0x2e
;;;513    	FormGPRS->BtnRet.Top = BTN_RET_Y;
000134  f8a03140          STRH     r3,[r0,#0x140]
;;;514    	FormGPRS->BtnRet.Height = BTN_RET_H;
000138  2220              MOVS     r2,#0x20
00013a  f8a02142          STRH     r2,[r0,#0x142]
;;;515    	FormGPRS->BtnRet.Width = BTN_RET_W;
00013e  233c              MOVS     r3,#0x3c
000140  f8a03144          STRH     r3,[r0,#0x144]
;;;516    	FormGPRS->BtnRet.pCaption = BTN_RET_TEXT;
000144  a153              ADR      r1,|L2.660|
;;;517    	FormGPRS->BtnRet.Font = &FormGPRS->FontBtn;
000146  f8c0114c          STR      r1,[r0,#0x14c]
00014a  f1a00148          SUB      r1,r0,#0x48
;;;518    	FormGPRS->BtnRet.Focus = 0;
00014e  f8c01148          STR      r1,[r0,#0x148]
000152  f8804150          STRB     r4,[r0,#0x150]
;;;519    
;;;520    	FormGPRS->Btn1.Left = BTN1_X;
000156  250b              MOVS     r5,#0xb
000158  f8a050c6          STRH     r5,[r0,#0xc6]
;;;521    	FormGPRS->Btn1.Top = BTN1_Y;
00015c  25a0              MOVS     r5,#0xa0
00015e  f8a050c8          STRH     r5,[r0,#0xc8]
;;;522    	FormGPRS->Btn1.Height = BTN1_H;
000162  f8a020ca          STRH     r2,[r0,#0xca]
;;;523    	FormGPRS->Btn1.Width = BTN1_W;
000166  f8a030cc          STRH     r3,[r0,#0xcc]
;;;524    	FormGPRS->Btn1.pCaption = BTN1_TEXT;
00016a  a64c              ADR      r6,|L2.668|
00016c  e9c01634          STRD     r1,r6,[r0,#0xd0]
;;;525    	FormGPRS->Btn1.Font = &FormGPRS->FontBtn;
;;;526    	FormGPRS->Btn1.Focus = 0;
000170  f88040d8          STRB     r4,[r0,#0xd8]
;;;527    
;;;528    	FormGPRS->Btn2.Left = BTN2_X;
000174  2651              MOVS     r6,#0x51
000176  f8a060de          STRH     r6,[r0,#0xde]
;;;529    	FormGPRS->Btn2.Top = BTN2_Y;
00017a  f8a050e0          STRH     r5,[r0,#0xe0]
;;;530    	FormGPRS->Btn2.Height = BTN2_H;
00017e  f8a020e2          STRH     r2,[r0,#0xe2]
;;;531    	FormGPRS->Btn2.Width = BTN2_W;
000182  f8a030e4          STRH     r3,[r0,#0xe4]
;;;532    	FormGPRS->Btn2.pCaption = BTN2_TEXT;
000186  a347              ADR      r3,|L2.676|
000188  e9c0133a          STRD     r1,r3,[r0,#0xe8]
;;;533    	FormGPRS->Btn2.Font = &FormGPRS->FontBtn;
;;;534    	FormGPRS->Btn2.Focus = 0;
00018c  f88040f0          STRB     r4,[r0,#0xf0]
;;;535    
;;;536    	FormGPRS->Btn3.Left = BTN3_X;
000190  2397              MOVS     r3,#0x97
000192  f8a030f6          STRH     r3,[r0,#0xf6]
;;;537    	FormGPRS->Btn3.Top = BTN3_Y;
000196  f8a050f8          STRH     r5,[r0,#0xf8]
;;;538    	FormGPRS->Btn3.Height = BTN3_H;
00019a  f8a020fa          STRH     r2,[r0,#0xfa]
;;;539    	FormGPRS->Btn3.Width = BTN3_W;
00019e  235a              MOVS     r3,#0x5a
0001a0  f8a030fc          STRH     r3,[r0,#0xfc]
;;;540    	FormGPRS->Btn3.pCaption = BTN3_TEXT;
0001a4  a341              ADR      r3,|L2.684|
0001a6  e9c01340          STRD     r1,r3,[r0,#0x100]
;;;541    	FormGPRS->Btn3.Font = &FormGPRS->FontBtn;
;;;542    	FormGPRS->Btn3.Focus = 0;
0001aa  f8804108          STRB     r4,[r0,#0x108]
;;;543    
;;;544    	FormGPRS->Btn4.Left = BTN4_X;
0001ae  230b              MOVS     r3,#0xb
0001b0  f8a0310e          STRH     r3,[r0,#0x10e]
;;;545    	FormGPRS->Btn4.Top = BTN4_Y;
0001b4  25ca              MOVS     r5,#0xca
0001b6  f8a05110          STRH     r5,[r0,#0x110]
;;;546    	FormGPRS->Btn4.Height = BTN4_H;
0001ba  f8a02112          STRH     r2,[r0,#0x112]
;;;547    	FormGPRS->Btn4.Width = BTN4_W;
0001be  237c              MOVS     r3,#0x7c
0001c0  f8a03114          STRH     r3,[r0,#0x114]
;;;548    	FormGPRS->Btn4.pCaption = BTN4_TEXT;
0001c4  a63c              ADR      r6,|L2.696|
0001c6  e9c01646          STRD     r1,r6,[r0,#0x118]
;;;549    	FormGPRS->Btn4.Font = &FormGPRS->FontBtn;
;;;550    	FormGPRS->Btn4.Focus = 0;
0001ca  f8804120          STRB     r4,[r0,#0x120]
;;;551    
;;;552    	FormGPRS->Btn5.Left = BTN5_X;
0001ce  2691              MOVS     r6,#0x91
0001d0  f8a06126          STRH     r6,[r0,#0x126]
;;;553    	FormGPRS->Btn5.Top = BTN5_Y;
0001d4  f8a05128          STRH     r5,[r0,#0x128]
;;;554    	FormGPRS->Btn5.Height = BTN5_H;
0001d8  f8a0212a          STRH     r2,[r0,#0x12a]
;;;555    	FormGPRS->Btn5.Width = BTN5_W;
0001dc  f8a0312c          STRH     r3,[r0,#0x12c]
;;;556    	FormGPRS->Btn5.pCaption = BTN5_TEXT;
0001e0  a238              ADR      r2,|L2.708|
0001e2  e9c0124c          STRD     r1,r2,[r0,#0x130]
;;;557    	FormGPRS->Btn5.Font = &FormGPRS->FontBtn;
;;;558    	FormGPRS->Btn5.Focus = 0;
0001e6  f8804138          STRB     r4,[r0,#0x138]
;;;559    
;;;560    	/* 编辑框 */
;;;561    	FormGPRS->Edit1.Left = EDIT1_X;
0001ea  2165              MOVS     r1,#0x65
0001ec  f8a01092          STRH     r1,[r0,#0x92]
;;;562    	FormGPRS->Edit1.Top = EDIT1_Y;
0001f0  f8203f94          STRH     r3,[r0,#0x94]!
;;;563    	FormGPRS->Edit1.Height = EDIT1_H;
0001f4  211a              MOVS     r1,#0x1a
0001f6  8041              STRH     r1,[r0,#2]
;;;564    	FormGPRS->Edit1.Width = EDIT1_W;
0001f8  2184              MOVS     r1,#0x84
0001fa  8081              STRH     r1,[r0,#4]
;;;565    	sprintf(FormGPRS->Edit1.Text, "10086");
0001fc  a12f              ADR      r1,|L2.700|
0001fe  3010              ADDS     r0,r0,#0x10
000200  f7fffffe          BL       __2sprintf
;;;566    	FormGPRS->Edit1.pCaption = FormGPRS->Edit1.Text;
000204  f8d80000          LDR      r0,[r8,#0]  ; FormGPRS
000208  f5007182          ADD      r1,r0,#0x104
;;;567    	FormGPRS->Edit1.Font = &FormGPRS->FontBtn;
00020c  f8c01100          STR      r1,[r0,#0x100]
000210  39ec              SUBS     r1,r1,#0xec
;;;568    
;;;569    	FormGPRS->ucMicGain = MIC_GAIN_DEFAULT;		/* 缺省MIC增益 */
000212  f8c010fc          STR      r1,[r0,#0xfc]
000216  f8a041d8          STRH     r4,[r0,#0x1d8]
;;;570    	FormGPRS->ucEarVolume = EAR_VOL_DEFAULT;	/* 缺省耳机音量 */
00021a  2132              MOVS     r1,#0x32
00021c  f88011d6          STRB     r1,[r0,#0x1d6]
;;;571    }
000220  e8bd81f0          POP      {r4-r8,pc}
;;;572    
                          ENDP

                  |L2.548|
                          DCD      ||.data||
                  |L2.552|
                          DCD      g_LcdHeight
                  |L2.556|
                          DCD      g_LcdWidth
                  |L2.560|
000230  47505253          DCB      "GPRS",196,163,191,233,178,226,202,212,179,204,208,242,"."
000234  c4a3bfe9
000238  b2e2cad4
00023c  b3ccd0f2
000240  2e      
000241  00                DCB      0
000242  00                DCB      0
000243  00                DCB      0
                  |L2.580|
000244  c4a3bfe9          DCB      196,163,191,233,176,230,177,190," : ",0
000248  b0e6b1be
00024c  203a2000
                  |L2.592|
000250  cdf8c2e7          DCB      205,248,194,231,215,180,204,172," : ",0
000254  d7b4ccac
000258  203a2000
                  |L2.604|
00025c  d2f4c6b5          DCB      210,244,198,181,205,168,181,192," : ",0
000260  cda8b5c0
000264  203a2000
                  |L2.616|
000268  b6fabbfa          DCB      182,250,187,250,210,244,193,191,186,205,"MIC",212,246,210
00026c  d2f4c1bf
000270  bacd4d49
000274  43d4f6d2
000278  e6203a20          DCB      230," : ",0
00027c  00      
00027d  00                DCB      0
00027e  00                DCB      0
00027f  00                DCB      0
                  |L2.640|
000280  b5e7bbb0          DCB      181,231,187,176,186,197,194,235," : ",0
000284  bac5c2eb
000288  203a2000
                  |L2.652|
00028c  2d2d2d00          DCB      "---",0
                  |L2.656|
000290  3100              DCB      "1",0
000292  00                DCB      0
000293  00                DCB      0
                  |L2.660|
000294  b7b5bbd8          DCB      183,181,187,216,0
000298  00      
000299  00                DCB      0
00029a  00                DCB      0
00029b  00                DCB      0
                  |L2.668|
00029c  b2a6bac5          DCB      178,166,186,197,0
0002a0  00      
0002a1  00                DCB      0
0002a2  00                DCB      0
0002a3  00                DCB      0
                  |L2.676|
0002a4  b9d2bbfa          DCB      185,210,187,250,0
0002a8  00      
0002a9  00                DCB      0
0002aa  00                DCB      0
0002ab  00                DCB      0
                  |L2.684|
0002ac  bdd3ccfd          DCB      189,211,204,253,192,180,187,176,0
0002b0  c0b4bbb0
0002b4  00      
0002b5  00                DCB      0
0002b6  00                DCB      0
0002b7  00                DCB      0
                  |L2.696|
0002b8  b2a6b4f2          DCB      178,166,180,242
                  |L2.700|
0002bc  31303038          DCB      "10086",0
0002c0  3600    
0002c2  00                DCB      0
0002c3  00                DCB      0
                  |L2.708|
0002c4  b2a6b4f2          DCB      178,166,180,242,"10010",0
0002c8  31303031
0002cc  3000    
0002ce  00                DCB      0
0002cf  00                DCB      0

                          AREA ||i.TestGPRS||, CODE, READONLY, ALIGN=1

                  TestGPRS PROC
;;;162    */
;;;163    void TestGPRS(void)
000000  f7ffbffe          B.W      TestGPRS_SIM800
;;;164    {
;;;165    	TestGPRS_SIM800();
;;;166    }
;;;167    
                          ENDP


                          AREA ||i.TestGPRS_SIM800||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                  TestGPRS_SIM800 PROC
;;;175    */
;;;176    void TestGPRS_SIM800(void)
000000  b5f0              PUSH     {r4-r7,lr}
;;;177    {
;;;178    	uint8_t ucKeyCode;		/* 按键代码 */
;;;179    	uint8_t ucTouch;		/* 触摸事件 */
;;;180    	uint8_t fQuit = 0;
;;;181    	int16_t tpX, tpY;
;;;182    	uint8_t ucValue;
;;;183    	uint8_t fRefresh = 1;
;;;184    	FormGPRS_T form;
;;;185    
;;;186    	FormGPRS = &form;
000002  4ccf              LDR      r4,|L4.832|
000004  f5ad7d07          SUB      sp,sp,#0x21c          ;177
000008  a802              ADD      r0,sp,#8
;;;187    
;;;188    	LCD_ClrScr(CL_BTN_FACE);
00000a  f64e775b          MOV      r7,#0xef5b
00000e  6020              STR      r0,[r4,#0]  ; FormGPRS
000010  2600              MOVS     r6,#0                 ;180
000012  2501              MOVS     r5,#1                 ;183
000014  4638              MOV      r0,r7
000016  f7fffffe          BL       LCD_ClrScr
;;;189    
;;;190    	InitFormGPRS();
00001a  f7fffffe          BL       InitFormGPRS
;;;191    
;;;192    	DispFormGPRS();
00001e  f7fffffe          BL       DispFormGPRS
;;;193    
;;;194    	bsp_InitSIM800();
000022  f7fffffe          BL       bsp_InitSIM800
;;;195    
;;;196    	printf("正在给GPRS模块上电...\r\n");
000026  a0c7              ADR      r0,|L4.836|
000028  f7fffffe          BL       __2printf
;;;197    
;;;198    	/* 给GSM模块上电 */
;;;199    	if (SIM800_PowerOn())
00002c  f7fffffe          BL       SIM800_PowerOn
000030  b108              CBZ      r0,|L4.54|
;;;200    	{
;;;201    		printf("\r\n上电完成\r\n");
000032  a0ca              ADR      r0,|L4.860|
000034  e000              B        |L4.56|
                  |L4.54|
;;;202    	}
;;;203    	else
;;;204    	{
;;;205    		printf("\r\n模块无应答\r\n");
000036  a0cd              ADR      r0,|L4.876|
                  |L4.56|
000038  f7fffffe          BL       __2printf
;;;206    	}
;;;207    
;;;208    	{
;;;209    		SIM800_INFO_T tInfo;
;;;210    
;;;211    		if (SIM800_GetHardInfo(&tInfo))
00003c  a87b              ADD      r0,sp,#0x1ec
00003e  f7fffffe          BL       SIM800_GetHardInfo
000042  2800              CMP      r0,#0
000044  6820              LDR      r0,[r4,#0]  ; FormGPRS
000046  d00c              BEQ      |L4.98|
;;;212    		{
;;;213    			FormGPRS->Label2.Font = &FormGPRS->FontBlue;
000048  f1000108          ADD      r1,r0,#8
;;;214    			sprintf(FormGPRS->strHardInfo, "%s %s %s", tInfo.Manfacture, tInfo.Model, tInfo.Revision);
00004c  65c1              STR      r1,[r0,#0x5c]
00004e  a981              ADD      r1,sp,#0x204
000050  9100              STR      r1,[sp,#0]
000052  ab7e              ADD      r3,sp,#0x1f8
000054  aa7b              ADD      r2,sp,#0x1ec
000056  a1c9              ADR      r1,|L4.892|
000058  f50070da          ADD      r0,r0,#0x1b4
00005c  f7fffffe          BL       __2sprintf
000060  e007              B        |L4.114|
                  |L4.98|
;;;215    		}
;;;216    		else
;;;217    		{
;;;218    			FormGPRS->Label2.Font = &FormGPRS->FontRed;
000062  f1000110          ADD      r1,r0,#0x10
;;;219    			sprintf(FormGPRS->strHardInfo, "未检测到模块");
000066  65c1              STR      r1,[r0,#0x5c]
000068  a1c7              ADR      r1,|L4.904|
00006a  f50070da          ADD      r0,r0,#0x1b4
00006e  f7fffffe          BL       __2sprintf
                  |L4.114|
;;;220    		}
;;;221    		FormGPRS->Label2.pCaption = FormGPRS->strHardInfo;
000072  6820              LDR      r0,[r4,#0]  ; FormGPRS
000074  f50071da          ADD      r1,r0,#0x1b4
000078  6601              STR      r1,[r0,#0x60]
00007a  3050              ADDS     r0,r0,#0x50
;;;222    		LCD_DrawLabel(&FormGPRS->Label2);
00007c  f7fffffe          BL       LCD_DrawLabel
;;;223    	}
;;;224    
;;;225    	//SIM800_SetAutoReport();		/* 设置事件自动上报 */
;;;226    
;;;227    	SIM800_SetMicGain(0, FormGPRS->ucMicGain);	/* 设置MIC增益 */
000080  6820              LDR      r0,[r4,#0]  ; FormGPRS
000082  f8b011d8          LDRH     r1,[r0,#0x1d8]
000086  2000              MOVS     r0,#0
000088  f7fffffe          BL       SIM800_SetMicGain
;;;228    	SIM800_SetEarVolume(FormGPRS->ucEarVolume);	/* 设置耳机音量 */
00008c  6820              LDR      r0,[r4,#0]  ; FormGPRS
00008e  f89001d6          LDRB     r0,[r0,#0x1d6]
000092  f7fffffe          BL       SIM800_SetEarVolume
;;;229    
;;;230    	bsp_DelayMS(100);
000096  2064              MOVS     r0,#0x64
000098  f7fffffe          BL       bsp_DelayMS
;;;231    	SIM800_SendAT("AT+CMICBIAS=0");	/* 打开MIC偏置电路 */
00009c  a0be              ADR      r0,|L4.920|
00009e  f7fffffe          BL       SIM800_SendAT
;;;232    	
;;;233    	bsp_StartAutoTimer(0, 500);
0000a2  f44f71fa          MOV      r1,#0x1f4
0000a6  2000              MOVS     r0,#0
0000a8  f7fffffe          BL       bsp_StartAutoTimer
                  |L4.172|
;;;234    	/* 进入主程序循环体 */
;;;235    	while (fQuit == 0)
;;;236    	{
;;;237    		bsp_Idle();
0000ac  f7fffffe          BL       bsp_Idle
;;;238    
;;;239    		/* 从MG323收到的数据发送到串口1 */
;;;240    		if (comGetChar(COM_SIM800, &ucValue))
0000b0  a985              ADD      r1,sp,#0x214
0000b2  2001              MOVS     r0,#1
0000b4  f7fffffe          BL       comGetChar
0000b8  b118              CBZ      r0,|L4.194|
;;;241    		{
;;;242    			comSendChar(COM1, ucValue);
0000ba  f89d1214          LDRB     r1,[sp,#0x214]
0000be  2000              MOVS     r0,#0
;;;243    			continue;
0000c0  e007              B        |L4.210|
                  |L4.194|
;;;244    		}
;;;245    		/* 将串口1的数据发送到MG323模块 */
;;;246    		if (comGetChar(COM1, &ucValue))
0000c2  a985              ADD      r1,sp,#0x214
0000c4  2000              MOVS     r0,#0
0000c6  f7fffffe          BL       comGetChar
0000ca  b128              CBZ      r0,|L4.216|
;;;247    		{
;;;248    			comSendChar(COM_SIM800, ucValue);
0000cc  f89d1214          LDRB     r1,[sp,#0x214]
0000d0  2001              MOVS     r0,#1
                  |L4.210|
0000d2  f7fffffe          BL       comSendChar
                  |L4.214|
0000d6  e7e9              B        |L4.172|
                  |L4.216|
;;;249    			continue;
;;;250    		}
;;;251    
;;;252    		/* 每隔0.5秒查询一下网络注册状态 */
;;;253    		if (bsp_CheckTimer(0))
0000d8  2000              MOVS     r0,#0
0000da  f7fffffe          BL       bsp_CheckTimer
0000de  b1b0              CBZ      r0,|L4.270|
;;;254    		{
;;;255    			FormGPRS->ucNetStatus = SIM800_GetNetStatus();
0000e0  f7fffffe          BL       SIM800_GetNetStatus
0000e4  6821              LDR      r1,[r4,#0]  ; FormGPRS
;;;256    
;;;257    			if ((FormGPRS->ucNetStatus == CREG_LOCAL_OK) || (FormGPRS->ucNetStatus == CREG_REMOTE_OK))
0000e6  2801              CMP      r0,#1
0000e8  f88101d4          STRB     r0,[r1,#0x1d4]        ;255
0000ec  d003              BEQ      |L4.246|
0000ee  2805              CMP      r0,#5
0000f0  d001              BEQ      |L4.246|
;;;258    			{
;;;259    				bsp_StopTimer(0);	/* 停止自动刷新 */
;;;260    
;;;261    				/* 配置WM8978芯片，输入为LINE接口，输出为耳机 和 扬声器 */
;;;262    				wm8978_CfgAudioPath(LINE_ON, EAR_LEFT_ON | EAR_RIGHT_ON | SPK_ON);
;;;263    			}			
;;;264    			else if (FormGPRS->ucNetStatus == CREG_NO_REG)
0000f2  b140              CBZ      r0,|L4.262|
0000f4  e00c              B        |L4.272|
                  |L4.246|
0000f6  2000              MOVS     r0,#0                 ;259
0000f8  f7fffffe          BL       bsp_StopTimer
0000fc  2107              MOVS     r1,#7                 ;262
0000fe  2004              MOVS     r0,#4                 ;262
000100  f7fffffe          BL       wm8978_CfgAudioPath
000104  e004              B        |L4.272|
                  |L4.262|
;;;265    			{
;;;266    				bsp_StopTimer(0);	/* 停止自动刷新 */
000106  2000              MOVS     r0,#0
000108  f7fffffe          BL       bsp_StopTimer
00010c  e000              B        |L4.272|
                  |L4.270|
;;;267    			}
;;;268    			fRefresh = 1;
;;;269    		}
;;;270    
;;;271    		if (fRefresh)
00010e  b115              CBZ      r5,|L4.278|
                  |L4.272|
;;;272    		{
;;;273    			fRefresh = 0;
000110  2500              MOVS     r5,#0
;;;274    
;;;275    			DispFormGPRS();	/* 刷新所有控件 */
000112  f7fffffe          BL       DispFormGPRS
                  |L4.278|
;;;276    		}
;;;277    
;;;278    		ucTouch = TOUCH_GetKey(&tpX, &tpY);	/* 读取触摸事件 */
000116  a97a              ADD      r1,sp,#0x1e8
000118  a879              ADD      r0,sp,#0x1e4
00011a  f7fffffe          BL       TOUCH_GetKey
;;;279    		if (ucTouch != TOUCH_NONE)
00011e  2800              CMP      r0,#0
000120  d062              BEQ      |L4.488|
;;;280    		{
;;;281    			switch (ucTouch)
000122  2801              CMP      r0,#1
000124  d002              BEQ      |L4.300|
000126  2803              CMP      r0,#3
000128  d15e              BNE      |L4.488|
00012a  e05e              B        |L4.490|
                  |L4.300|
;;;282    			{
;;;283    				case TOUCH_DOWN:		/* 触笔按下事件 */			
;;;284    					LCD_ButtonTouchDown(&FormGPRS->BtnRet, tpX, tpY);
00012c  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000130  b282              UXTH     r2,r0
000132  f8bd01e4          LDRH     r0,[sp,#0x1e4]
000136  b281              UXTH     r1,r0
000138  6820              LDR      r0,[r4,#0]  ; FormGPRS
00013a  f50070ce          ADD      r0,r0,#0x19c
00013e  f7fffffe          BL       LCD_ButtonTouchDown
;;;285    					LCD_ButtonTouchDown(&FormGPRS->Btn1, tpX, tpY);
000142  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000146  b282              UXTH     r2,r0
000148  f8bd01e4          LDRH     r0,[sp,#0x1e4]
00014c  b281              UXTH     r1,r0
00014e  6820              LDR      r0,[r4,#0]  ; FormGPRS
000150  f5007092          ADD      r0,r0,#0x124
000154  f7fffffe          BL       LCD_ButtonTouchDown
;;;286    					LCD_ButtonTouchDown(&FormGPRS->Btn2, tpX, tpY);
000158  f8bd01e8          LDRH     r0,[sp,#0x1e8]
00015c  b282              UXTH     r2,r0
00015e  f8bd01e4          LDRH     r0,[sp,#0x1e4]
000162  b281              UXTH     r1,r0
000164  6820              LDR      r0,[r4,#0]  ; FormGPRS
000166  f500709e          ADD      r0,r0,#0x13c
00016a  f7fffffe          BL       LCD_ButtonTouchDown
;;;287    					LCD_ButtonTouchDown(&FormGPRS->Btn3, tpX, tpY);
00016e  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000172  b282              UXTH     r2,r0
000174  f8bd01e4          LDRH     r0,[sp,#0x1e4]
000178  b281              UXTH     r1,r0
00017a  6820              LDR      r0,[r4,#0]  ; FormGPRS
00017c  f50070aa          ADD      r0,r0,#0x154
000180  f7fffffe          BL       LCD_ButtonTouchDown
;;;288    					LCD_ButtonTouchDown(&FormGPRS->Btn4, tpX, tpY);
000184  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000188  b282              UXTH     r2,r0
00018a  f8bd01e4          LDRH     r0,[sp,#0x1e4]
00018e  b281              UXTH     r1,r0
000190  6820              LDR      r0,[r4,#0]  ; FormGPRS
000192  f50070b6          ADD      r0,r0,#0x16c
000196  f7fffffe          BL       LCD_ButtonTouchDown
;;;289    					LCD_ButtonTouchDown(&FormGPRS->Btn5, tpX, tpY);				
00019a  f8bd01e8          LDRH     r0,[sp,#0x1e8]
00019e  b282              UXTH     r2,r0
0001a0  f8bd01e4          LDRH     r0,[sp,#0x1e4]
0001a4  b281              UXTH     r1,r0
0001a6  6820              LDR      r0,[r4,#0]  ; FormGPRS
0001a8  f50070c2          ADD      r0,r0,#0x184
0001ac  f7fffffe          BL       LCD_ButtonTouchDown
;;;290    
;;;291    					/* 编辑框 */
;;;292    					if (TOUCH_InRect(tpX, tpY, EDIT1_X, EDIT1_Y, EDIT1_H, EDIT1_W))
0001b0  2184              MOVS     r1,#0x84
0001b2  201a              MOVS     r0,#0x1a
0001b4  e9cd0100          STRD     r0,r1,[sp,#0]
0001b8  f8bd01e8          LDRH     r0,[sp,#0x1e8]
0001bc  237c              MOVS     r3,#0x7c
0001be  b281              UXTH     r1,r0
0001c0  f8bd01e4          LDRH     r0,[sp,#0x1e4]
0001c4  2265              MOVS     r2,#0x65
0001c6  b280              UXTH     r0,r0
0001c8  f7fffffe          BL       TOUCH_InRect
0001cc  2800              CMP      r0,#0
0001ce  d067              BEQ      |L4.672|
;;;293    					{
;;;294    						{
;;;295    							if (InputNumber(NUMPAD_TEL, "设置电话号码", 0, (void *)FormGPRS->Edit1.Text))
0001d0  6823              LDR      r3,[r4,#0]  ; FormGPRS
0001d2  2200              MOVS     r2,#0
0001d4  a174              ADR      r1,|L4.936|
0001d6  2001              MOVS     r0,#1
0001d8  f5037382          ADD      r3,r3,#0x104
0001dc  f7fffffe          BL       InputNumber
;;;296    							{
;;;297    								;
;;;298    							}
;;;299    
;;;300    							ClearWinNumPad(FORM_BACK_COLOR);	/* 清除数字键盘窗口 */
0001e0  4638              MOV      r0,r7
0001e2  f7fffffe          BL       ClearWinNumPad
;;;301    							fRefresh = 1;
0001e6  2501              MOVS     r5,#1
                  |L4.488|
0001e8  e05a              B        |L4.672|
                  |L4.490|
;;;302    						}
;;;303    					}
;;;304    					break;
;;;305    
;;;306    				case TOUCH_RELEASE:		/* 触笔释放事件 */
;;;307    					if (LCD_ButtonTouchRelease(&FormGPRS->BtnRet, tpX, tpY))
0001ea  f8bd01e8          LDRH     r0,[sp,#0x1e8]
0001ee  b282              UXTH     r2,r0
0001f0  f8bd01e4          LDRH     r0,[sp,#0x1e4]
0001f4  b281              UXTH     r1,r0
0001f6  6820              LDR      r0,[r4,#0]  ; FormGPRS
0001f8  f50070ce          ADD      r0,r0,#0x19c
0001fc  f7fffffe          BL       LCD_ButtonTouchRelease
000200  b108              CBZ      r0,|L4.518|
;;;308    					{
;;;309    						fQuit = 1;	/* 返回 */
000202  2601              MOVS     r6,#1
000204  e04c              B        |L4.672|
                  |L4.518|
;;;310    					}
;;;311    					else if (LCD_ButtonTouchRelease(&FormGPRS->Btn1, tpX, tpY))	/* 拨号 */
000206  f8bd01e8          LDRH     r0,[sp,#0x1e8]
00020a  b282              UXTH     r2,r0
00020c  f8bd01e4          LDRH     r0,[sp,#0x1e4]
000210  b281              UXTH     r1,r0
000212  6820              LDR      r0,[r4,#0]  ; FormGPRS
000214  f5007092          ADD      r0,r0,#0x124
000218  f7fffffe          BL       LCD_ButtonTouchRelease
00021c  b118              CBZ      r0,|L4.550|
;;;312    					{
;;;313    						/* 拨打电话 */
;;;314    						SIM800_DialTel(FormGPRS->Edit1.Text);
00021e  6820              LDR      r0,[r4,#0]  ; FormGPRS
000220  f5007082          ADD      r0,r0,#0x104
000224  e02b              B        |L4.638|
                  |L4.550|
;;;315    					}
;;;316    					else if (LCD_ButtonTouchRelease(&FormGPRS->Btn2, tpX, tpY))
000226  f8bd01e8          LDRH     r0,[sp,#0x1e8]
00022a  b282              UXTH     r2,r0
00022c  f8bd01e4          LDRH     r0,[sp,#0x1e4]
000230  b281              UXTH     r1,r0
000232  6820              LDR      r0,[r4,#0]  ; FormGPRS
000234  f500709e          ADD      r0,r0,#0x13c
000238  f7fffffe          BL       LCD_ButtonTouchRelease
00023c  b110              CBZ      r0,|L4.580|
;;;317    					{
;;;318    						/* 挂机 */
;;;319    						SIM800_Hangup();
00023e  f7fffffe          BL       SIM800_Hangup
000242  e02d              B        |L4.672|
                  |L4.580|
;;;320    					}
;;;321    					else if (LCD_ButtonTouchRelease(&FormGPRS->Btn3, tpX, tpY))	/* 接听来话 */
000244  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000248  b282              UXTH     r2,r0
00024a  f8bd01e4          LDRH     r0,[sp,#0x1e4]
00024e  b281              UXTH     r1,r0
000250  6820              LDR      r0,[r4,#0]  ; FormGPRS
000252  f50070aa          ADD      r0,r0,#0x154
000256  f7fffffe          BL       LCD_ButtonTouchRelease
00025a  b118              CBZ      r0,|L4.612|
;;;322    					{
;;;323    						SIM800_SendAT("ATA");
00025c  a056              ADR      r0,|L4.952|
00025e  f7fffffe          BL       SIM800_SendAT
000262  e01d              B        |L4.672|
                  |L4.612|
;;;324    					}
;;;325    					else if (LCD_ButtonTouchRelease(&FormGPRS->Btn4, tpX, tpY))	/* 拨打10086 */
000264  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000268  b282              UXTH     r2,r0
00026a  f8bd01e4          LDRH     r0,[sp,#0x1e4]
00026e  b281              UXTH     r1,r0
000270  6820              LDR      r0,[r4,#0]  ; FormGPRS
000272  f50070b6          ADD      r0,r0,#0x16c
000276  f7fffffe          BL       LCD_ButtonTouchRelease
00027a  b118              CBZ      r0,|L4.644|
;;;326    					{
;;;327    						SIM800_DialTel("10086");
00027c  a04f              ADR      r0,|L4.956|
                  |L4.638|
00027e  f7fffffe          BL       SIM800_DialTel
000282  e00d              B        |L4.672|
                  |L4.644|
;;;328    					}
;;;329    					else if (LCD_ButtonTouchRelease(&FormGPRS->Btn5, tpX, tpY))	/* 拨打10010 */
000284  f8bd01e8          LDRH     r0,[sp,#0x1e8]
000288  b282              UXTH     r2,r0
00028a  f8bd01e4          LDRH     r0,[sp,#0x1e4]
00028e  b281              UXTH     r1,r0
000290  6820              LDR      r0,[r4,#0]  ; FormGPRS
000292  f50070c2          ADD      r0,r0,#0x184
000296  f7fffffe          BL       LCD_ButtonTouchRelease
00029a  b108              CBZ      r0,|L4.672|
;;;330    					{
;;;331    						SIM800_DialTel("10010");
00029c  a049              ADR      r0,|L4.964|
00029e  e7ee              B        |L4.638|
                  |L4.672|
;;;332    					}					
;;;333    					break;
;;;334    			}
;;;335    		}
;;;336    
;;;337    		/* 处理按键事件 */
;;;338    		ucKeyCode = bsp_GetKey();
0002a0  f7fffffe          BL       bsp_GetKey
;;;339    		if (ucKeyCode > 0)
0002a4  b1b8              CBZ      r0,|L4.726|
;;;340    		{
;;;341    			/* 有键按下 */
;;;342    			switch (ucKeyCode)
0002a6  280d              CMP      r0,#0xd
0002a8  d029              BEQ      |L4.766|
0002aa  dc08              BGT      |L4.702|
0002ac  2801              CMP      r0,#1
0002ae  d00b              BEQ      |L4.712|
0002b0  2804              CMP      r0,#4
0002b2  d00b              BEQ      |L4.716|
0002b4  2807              CMP      r0,#7
0002b6  d00d              BEQ      |L4.724|
0002b8  280a              CMP      r0,#0xa
0002ba  d10c              BNE      |L4.726|
0002bc  e018              B        |L4.752|
                  |L4.702|
0002be  2810              CMP      r0,#0x10
0002c0  d029              BEQ      |L4.790|
0002c2  2813              CMP      r0,#0x13
0002c4  d107              BNE      |L4.726|
0002c6  e02d              B        |L4.804|
                  |L4.712|
;;;343    			{
;;;344    				case KEY_DOWN_K1:		/* K1键 */
;;;345    					SIM800_SendAT("ATD10086;");	/* 拨打10086 */
0002c8  a040              ADR      r0,|L4.972|
;;;346    					break;
0002ca  e000              B        |L4.718|
                  |L4.716|
;;;347    
;;;348    				case KEY_DOWN_K2:		/* K2键按下 */
;;;349    					SIM800_SendAT("ATH");	/* 挂断电话 */
0002cc  a042              ADR      r0,|L4.984|
                  |L4.718|
0002ce  f7fffffe          BL       SIM800_SendAT
0002d2  e000              B        |L4.726|
                  |L4.724|
;;;350    					break;
;;;351    
;;;352    				case KEY_DOWN_K3:		/* K3键按下 */
;;;353    					fRefresh = 1;
0002d4  2501              MOVS     r5,#1
                  |L4.726|
0002d6  2e00              CMP      r6,#0                 ;235
0002d8  f43faefd          BEQ      |L4.214|
;;;354    					break;
;;;355    
;;;356    				case JOY_DOWN_U:		/* 摇杆UP键按下  调节耳机音量 */
;;;357    					if (FormGPRS->ucEarVolume < EAR_VOL_MAX)
;;;358    					{
;;;359    						FormGPRS->ucEarVolume++;
;;;360    						SIM800_SetEarVolume(FormGPRS->ucEarVolume);
;;;361    					}
;;;362    					fRefresh = 1;
;;;363    					break;
;;;364    
;;;365    				case JOY_DOWN_D:		/* 摇杆DOWN键按下  调节耳机音量 */
;;;366    					if (FormGPRS->ucEarVolume > EAR_VOL_MIN)
;;;367    					{
;;;368    						FormGPRS->ucEarVolume--;
;;;369    						SIM800_SetEarVolume(FormGPRS->ucEarVolume);
;;;370    					}
;;;371    					fRefresh = 1;
;;;372    					break;
;;;373    
;;;374    				case JOY_DOWN_L:		/* 摇杆LEFT键按下  调节MIC增益 */
;;;375    					if (FormGPRS->ucMicGain > MIC_GAIN_MIN)
;;;376    					{
;;;377    						FormGPRS->ucMicGain--;
;;;378    						SIM800_SetMicGain(0, FormGPRS->ucMicGain);
;;;379    					}
;;;380    					fRefresh = 1;
;;;381    					break;
;;;382    
;;;383    				case JOY_DOWN_R:		/* 摇杆RIGHT键按下  调节MIC增益 */
;;;384    					if (FormGPRS->ucMicGain < MIC_GAIN_MAX)
;;;385    					{
;;;386    						FormGPRS->ucMicGain++;
;;;387    						SIM800_SetMicGain(0, FormGPRS->ucMicGain);
;;;388    					}
;;;389    					fRefresh = 1;
;;;390    					break;
;;;391    
;;;392    				case JOY_DOWN_OK:		/* 摇杆OK键按下 */
;;;393    					break;
;;;394    
;;;395    				default:
;;;396    					break;
;;;397    			}
;;;398    		}
;;;399    	}
;;;400    
;;;401    	/* 关闭WM8978芯片 */
;;;402    	wm8978_PowerDown();
0002dc  f7fffffe          BL       wm8978_PowerDown
;;;403    
;;;404    	SIM800_PowerOff();	/* 下电 */
0002e0  f7fffffe          BL       SIM800_PowerOff
;;;405    	printf("GPRS模块已下电.\r\n");
0002e4  a03d              ADR      r0,|L4.988|
0002e6  f7fffffe          BL       __2printf
;;;406    }
0002ea  f50d7d07          ADD      sp,sp,#0x21c
0002ee  bdf0              POP      {r4-r7,pc}
                  |L4.752|
0002f0  6821              LDR      r1,[r4,#0]            ;357  ; FormGPRS
0002f2  f89101d6          LDRB     r0,[r1,#0x1d6]        ;357
0002f6  2864              CMP      r0,#0x64              ;357
0002f8  d2ec              BCS      |L4.724|
0002fa  1c40              ADDS     r0,r0,#1              ;357
0002fc  e005              B        |L4.778|
                  |L4.766|
0002fe  6821              LDR      r1,[r4,#0]            ;366  ; FormGPRS
000300  f89101d6          LDRB     r0,[r1,#0x1d6]        ;366
000304  2800              CMP      r0,#0                 ;366
000306  d0e5              BEQ      |L4.724|
000308  1e40              SUBS     r0,r0,#1              ;366
                  |L4.778|
00030a  b2c0              UXTB     r0,r0                 ;368
00030c  f88101d6          STRB     r0,[r1,#0x1d6]        ;368
000310  f7fffffe          BL       SIM800_SetEarVolume
000314  e7de              B        |L4.724|
                  |L4.790|
000316  6821              LDR      r1,[r4,#0]            ;375  ; FormGPRS
000318  f9b101d8          LDRSH    r0,[r1,#0x1d8]        ;375
00031c  2800              CMP      r0,#0                 ;375
00031e  ddd9              BLE      |L4.724|
000320  1e40              SUBS     r0,r0,#1              ;375
000322  e005              B        |L4.816|
                  |L4.804|
000324  6821              LDR      r1,[r4,#0]            ;384  ; FormGPRS
000326  f9b101d8          LDRSH    r0,[r1,#0x1d8]        ;384
00032a  280f              CMP      r0,#0xf               ;384
00032c  dad2              BGE      |L4.724|
00032e  1c40              ADDS     r0,r0,#1              ;384
                  |L4.816|
000330  f8a101d8          STRH     r0,[r1,#0x1d8]        ;386
000334  b281              UXTH     r1,r0                 ;387
000336  2000              MOVS     r0,#0                 ;387
000338  f7fffffe          BL       SIM800_SetMicGain
00033c  e7ca              B        |L4.724|
;;;407    
                          ENDP

00033e  0000              DCW      0x0000
                  |L4.832|
                          DCD      ||.data||
                  |L4.836|
000344  d5fdd4da          DCB      213,253,212,218,184,248,"GPRS",196,163,191,233,201,207,181
000348  b8f84750
00034c  5253c4a3
000350  bfe9c9cf
000354  b5      
000355  e72e2e2e          DCB      231,"...\r\n",0
000359  0d0a00  
                  |L4.860|
00035c  0d0ac9cf          DCB      "\r\n",201,207,181,231,205,234,179,201,"\r\n",0
000360  b5e7cdea
000364  b3c90d0a
000368  00      
000369  00                DCB      0
00036a  00                DCB      0
00036b  00                DCB      0
                  |L4.876|
00036c  0d0ac4a3          DCB      "\r\n",196,163,191,233,206,222,211,166,180,240,"\r\n",0
000370  bfe9cede
000374  d3a6b4f0
000378  0d0a00  
00037b  00                DCB      0
                  |L4.892|
00037c  25732025          DCB      "%s %s %s",0
000380  73202573
000384  00      
000385  00                DCB      0
000386  00                DCB      0
000387  00                DCB      0
                  |L4.904|
000388  ceb4bcec          DCB      206,180,188,236,178,226,181,189,196,163,191,233,0
00038c  b2e2b5bd
000390  c4a3bfe9
000394  00      
000395  00                DCB      0
000396  00                DCB      0
000397  00                DCB      0
                  |L4.920|
000398  41542b43          DCB      "AT+CMICBIAS=0",0
00039c  4d494342
0003a0  4941533d
0003a4  3000    
0003a6  00                DCB      0
0003a7  00                DCB      0
                  |L4.936|
0003a8  c9e8d6c3          DCB      201,232,214,195,181,231,187,176,186,197,194,235,0
0003ac  b5e7bbb0
0003b0  bac5c2eb
0003b4  00      
0003b5  00                DCB      0
0003b6  00                DCB      0
0003b7  00                DCB      0
                  |L4.952|
0003b8  41544100          DCB      "ATA",0
                  |L4.956|
0003bc  31303038          DCB      "10086",0
0003c0  3600    
0003c2  00                DCB      0
0003c3  00                DCB      0
                  |L4.964|
0003c4  31303031          DCB      "10010",0
0003c8  3000    
0003ca  00                DCB      0
0003cb  00                DCB      0
                  |L4.972|
0003cc  41544431          DCB      "ATD10086;",0
0003d0  30303836
0003d4  3b00    
0003d6  00                DCB      0
0003d7  00                DCB      0
                  |L4.984|
0003d8  41544800          DCB      "ATH",0
                  |L4.988|
0003dc  47505253          DCB      "GPRS",196,163,191,233,210,209,207,194,181,231,".\r\n",0
0003e0  c4a3bfe9
0003e4  d2d1cfc2
0003e8  b5e72e0d
0003ec  0a00    
0003ee  00                DCB      0
0003ef  00                DCB      0

                          AREA ||.data||, DATA, ALIGN=2

                  FormGPRS
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\User\\app\\src\\gprs_test.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___11_gprs_test_c_TestGPRS____REV16|
#line 114 "..\\..\\Libraries\\CMSIS\\Include\\core_cmInstr.h"
|__asm___11_gprs_test_c_TestGPRS____REV16| PROC
#line 115

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___11_gprs_test_c_TestGPRS____REVSH|
#line 128
|__asm___11_gprs_test_c_TestGPRS____REVSH| PROC
#line 129

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
