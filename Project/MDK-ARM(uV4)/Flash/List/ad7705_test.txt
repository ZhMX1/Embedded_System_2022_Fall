; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\flash\obj\ad7705_test.o --asm_dir=.\Flash\List\ --list_dir=.\Flash\List\ --depend=.\flash\obj\ad7705_test.d --cpu=Cortex-M3 --apcs=interwork -O3 --diag_suppress=9931,870 -I..\..\Libraries\CMSIS\Device\ST\STM32F10x\Include -I..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\Libraries\STM32_USB-FS-Device_Driver\inc -I..\..\Libraries\CMSIS\Include -I..\..\User\bsp -I..\..\User\bsp\inc -I..\..\User\app\inc -I..\..\User\fonts -I..\..\User\images -I..\..\User\uIP\uip -I..\..\User\uIP\http -I..\..\User\uIP\dm9000 -I..\..\User\FatFS\src -I..\..\User\usb_mass -I..\..\User\CH376\inc -I.\RTE\_Flash -ID:\Keil\ARM\PACK\ARM\CMSIS\5.0.1\CMSIS\Include -ID:\Keil\ARM\PACK\Keil\STM32F1xx_DFP\2.1.0\Device\Include -D__MICROLIB -D__UVISION_VERSION=523 -D_RTE_ -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD --omf_browse=.\flash\obj\ad7705_test.crf ..\..\User\app\src\ad7705_test.c]
                          THUMB

                          AREA ||i.DispFormAD7705||, CODE, READONLY, ALIGN=2

                  DispFormAD7705 PROC
;;;315    */
;;;316    static void DispFormAD7705(void)
000000  b510              PUSH     {r4,lr}
;;;317    {
;;;318    	LCD_ClrScr(CL_BTN_FACE);
000002  f64e705b          MOV      r0,#0xef5b
000006  f7fffffe          BL       LCD_ClrScr
;;;319    
;;;320    	/* 分组框 */
;;;321    	LCD_DrawGroupBox(&FormAD7705->Box1);
00000a  4c0f              LDR      r4,|L1.72|
00000c  6820              LDR      r0,[r4,#0]  ; FormAD7705
00000e  3020              ADDS     r0,r0,#0x20
000010  f7fffffe          BL       LCD_DrawGroupBox
;;;322    
;;;323    	/* 静态标签 */
;;;324    	LCD_DrawLabel(&FormAD7705->Label1);
000014  6820              LDR      r0,[r4,#0]  ; FormAD7705
000016  3034              ADDS     r0,r0,#0x34
000018  f7fffffe          BL       LCD_DrawLabel
;;;325    	LCD_DrawLabel(&FormAD7705->Label3);
00001c  6820              LDR      r0,[r4,#0]  ; FormAD7705
00001e  305c              ADDS     r0,r0,#0x5c
000020  f7fffffe          BL       LCD_DrawLabel
;;;326    	LCD_DrawLabel(&FormAD7705->Label5);
000024  6820              LDR      r0,[r4,#0]  ; FormAD7705
000026  3084              ADDS     r0,r0,#0x84
000028  f7fffffe          BL       LCD_DrawLabel
;;;327    
;;;328    	/* 动态标签 */
;;;329    	LCD_DrawLabel(&FormAD7705->Label2);
00002c  6820              LDR      r0,[r4,#0]  ; FormAD7705
00002e  3048              ADDS     r0,r0,#0x48
000030  f7fffffe          BL       LCD_DrawLabel
;;;330    	LCD_DrawLabel(&FormAD7705->Label4);
000034  6820              LDR      r0,[r4,#0]  ; FormAD7705
000036  3070              ADDS     r0,r0,#0x70
000038  f7fffffe          BL       LCD_DrawLabel
;;;331    
;;;332    	/* 按钮 */
;;;333    	LCD_DrawButton(&FormAD7705->BtnRet);
00003c  6820              LDR      r0,[r4,#0]  ; FormAD7705
00003e  e8bd4010          POP      {r4,lr}
000042  3098              ADDS     r0,r0,#0x98
000044  f7ffbffe          B.W      LCD_DrawButton
;;;334    }
;;;335    
                          ENDP

                  |L1.72|
                          DCD      ||.data||

                          AREA ||i.InitFormAD7705||, CODE, READONLY, ALIGN=2

                  InitFormAD7705 PROC
;;;230    */
;;;231    static void InitFormAD7705(void)
000000  b5f0              PUSH     {r4-r7,lr}
;;;232    {
;;;233    	/* 分组框标题字体 */
;;;234    	FormAD7705->FontBox.FontCode = FC_ST_16;
000002  4839              LDR      r0,|L2.232|
000004  2201              MOVS     r2,#1
;;;235    	FormAD7705->FontBox.BackColor = CL_BTN_FACE;	/* 和背景色相同 */
000006  f64e735b          MOV      r3,#0xef5b
00000a  6800              LDR      r0,[r0,#0]            ;234  ; FormAD7705
;;;236    	FormAD7705->FontBox.FrontColor = CL_BLACK;
00000c  2100              MOVS     r1,#0
;;;237    	FormAD7705->FontBox.Space = 0;
;;;238    
;;;239    	/* 字体1 用于静止标签 */
;;;240    	FormAD7705->FontBlack.FontCode = FC_ST_16;
;;;241    	FormAD7705->FontBlack.BackColor = CL_BTN_FACE;		/* 透明色 */
;;;242    	FormAD7705->FontBlack.FrontColor = CL_BLACK;
;;;243    	FormAD7705->FontBlack.Space = 0;
;;;244    
;;;245    	/* 字体2 用于变化的文字 */
;;;246    	FormAD7705->FontBlue.FontCode = FC_ST_16;
;;;247    	FormAD7705->FontBlue.BackColor = CL_BTN_FACE;
;;;248    	FormAD7705->FontBlue.FrontColor = CL_BLUE;
;;;249    	FormAD7705->FontBlue.Space = 0;
;;;250    
;;;251    	/* 按钮字体 */
;;;252    	FormAD7705->FontBtn.FontCode = FC_ST_16;
;;;253    	FormAD7705->FontBtn.BackColor = CL_MASK;		/* 透明背景 */
;;;254    	FormAD7705->FontBtn.FrontColor = CL_BLACK;
;;;255    	FormAD7705->FontBtn.Space = 0;
;;;256    
;;;257    	/* 分组框 */
;;;258    	FormAD7705->Box1.Left = BOX1_X;
;;;259    	FormAD7705->Box1.Top = BOX1_Y;
;;;260    	FormAD7705->Box1.Height = BOX1_H;
;;;261    	FormAD7705->Box1.Width = BOX1_W;
;;;262    	FormAD7705->Box1.pCaption = BOX1_TEXT;
;;;263    	FormAD7705->Box1.Font = &FormAD7705->FontBox;
;;;264    
;;;265    	/* 静态标签 */
;;;266    	FormAD7705->Label1.Left = LABEL1_X;
;;;267    	FormAD7705->Label1.Top = LABEL1_Y;
00000e  261c              MOVS     r6,#0x1c
000010  7602              STRB     r2,[r0,#0x18]         ;234
000012  8383              STRH     r3,[r0,#0x1c]         ;235
000014  8341              STRH     r1,[r0,#0x1a]         ;236
000016  83c1              STRH     r1,[r0,#0x1e]         ;237
000018  7002              STRB     r2,[r0,#0]            ;240
00001a  8083              STRH     r3,[r0,#4]            ;241
00001c  8041              STRH     r1,[r0,#2]            ;242
00001e  80c1              STRH     r1,[r0,#6]            ;243
000020  7202              STRB     r2,[r0,#8]            ;246
000022  8183              STRH     r3,[r0,#0xc]          ;247
000024  231f              MOVS     r3,#0x1f              ;248
000026  8143              STRH     r3,[r0,#0xa]          ;248
000028  81c1              STRH     r1,[r0,#0xe]          ;249
00002a  7402              STRB     r2,[r0,#0x10]         ;252
00002c  f6491299          MOV      r2,#0x9999            ;253
000030  8282              STRH     r2,[r0,#0x14]         ;253
000032  8241              STRH     r1,[r0,#0x12]         ;254
000034  82c1              STRH     r1,[r0,#0x16]         ;255
000036  2205              MOVS     r2,#5                 ;258
000038  8442              STRH     r2,[r0,#0x22]         ;258
00003a  2208              MOVS     r2,#8                 ;259
00003c  8482              STRH     r2,[r0,#0x24]         ;259
00003e  4a2b              LDR      r2,|L2.236|
;;;268    	FormAD7705->Label1.MaxLen = 0;
;;;269    	FormAD7705->Label1.pCaption = LABEL1_TEXT;
000040  a532              ADR      r5,|L2.268|
;;;270    	FormAD7705->Label1.Font = &FormAD7705->FontBlack;
;;;271    
;;;272    	FormAD7705->Label3.Left = LABEL3_X;
;;;273    	FormAD7705->Label3.Top = LABEL3_Y;
;;;274    	FormAD7705->Label3.MaxLen = 0;
;;;275    	FormAD7705->Label3.pCaption = LABEL3_TEXT;
000042  a735              ADR      r7,|L2.280|
000044  8813              LDRH     r3,[r2,#0]            ;260  ; g_LcdHeight
000046  f1a30212          SUB      r2,r3,#0x12           ;260
00004a  84c2              STRH     r2,[r0,#0x26]         ;260
00004c  4a28              LDR      r2,|L2.240|
00004e  8812              LDRH     r2,[r2,#0]            ;261  ; g_LcdWidth
000050  f1a2040a          SUB      r4,r2,#0xa            ;261
000054  8504              STRH     r4,[r0,#0x28]         ;261
000056  a427              ADR      r4,|L2.244|
000058  6304              STR      r4,[r0,#0x30]         ;263
00005a  f1000418          ADD      r4,r0,#0x18           ;263
00005e  62c4              STR      r4,[r0,#0x2c]         ;266
000060  240b              MOVS     r4,#0xb               ;266
000062  86c4              STRH     r4,[r0,#0x36]         ;266
000064  8706              STRH     r6,[r0,#0x38]         ;267
000066  87c1              STRH     r1,[r0,#0x3e]         ;268
000068  e9c00510          STRD     r0,r5,[r0,#0x40]      ;269
00006c  f8a0405e          STRH     r4,[r0,#0x5e]         ;272
000070  2530              MOVS     r5,#0x30              ;273
000072  f8a05060          STRH     r5,[r0,#0x60]         ;273
000076  f8a01066          STRH     r1,[r0,#0x66]         ;274
00007a  e9c0071a          STRD     r0,r7,[r0,#0x68]
;;;276    	FormAD7705->Label3.Font = &FormAD7705->FontBlack;
;;;277    
;;;278    	FormAD7705->Label5.Left = LABEL5_X;
00007e  f8a04086          STRH     r4,[r0,#0x86]
;;;279    	FormAD7705->Label5.Top = LABEL5_Y;
000082  2458              MOVS     r4,#0x58
000084  f8a04088          STRH     r4,[r0,#0x88]
;;;280    	FormAD7705->Label5.MaxLen = 0;
000088  f8a0108e          STRH     r1,[r0,#0x8e]
;;;281    	FormAD7705->Label5.pCaption = LABEL5_TEXT;
00008c  a425              ADR      r4,|L2.292|
;;;282    	FormAD7705->Label5.Font = &FormAD7705->FontBlack;
00008e  e9c00424          STRD     r0,r4,[r0,#0x90]
;;;283    
;;;284    
;;;285    	/* 动态标签 */
;;;286    	FormAD7705->Label2.Left = LABEL2_X;
000092  274b              MOVS     r7,#0x4b
000094  f8a0704a          STRH     r7,[r0,#0x4a]
;;;287    	FormAD7705->Label2.Top = LABEL2_Y;
000098  f8a0604c          STRH     r6,[r0,#0x4c]
;;;288    	FormAD7705->Label2.MaxLen = 0;
00009c  f8a01052          STRH     r1,[r0,#0x52]
;;;289    	FormAD7705->Label2.pCaption = LABEL2_TEXT;
0000a0  a422              ADR      r4,|L2.300|
;;;290    	FormAD7705->Label2.Font = &FormAD7705->FontBlue;
0000a2  6584              STR      r4,[r0,#0x58]
0000a4  f1000408          ADD      r4,r0,#8
;;;291    
;;;292    	FormAD7705->Label4.Left = LABEL4_X;
0000a8  6544              STR      r4,[r0,#0x54]
0000aa  f8a07072          STRH     r7,[r0,#0x72]
;;;293    	FormAD7705->Label4.Top = LABEL4_Y;
0000ae  f8a05074          STRH     r5,[r0,#0x74]
;;;294    	FormAD7705->Label4.MaxLen = 0;
0000b2  f8a0107a          STRH     r1,[r0,#0x7a]
;;;295    	FormAD7705->Label4.pCaption = LABEL4_TEXT;
0000b6  a520              ADR      r5,|L2.312|
0000b8  3a45              SUBS     r2,r2,#0x45
0000ba  e9c0451f          STRD     r4,r5,[r0,#0x7c]
;;;296    	FormAD7705->Label4.Font = &FormAD7705->FontBlue;
;;;297    
;;;298    	/* 按钮 */
;;;299    	FormAD7705->BtnRet.Left = BTN_RET_X;
0000be  f8a0209a          STRH     r2,[r0,#0x9a]
0000c2  3b2e              SUBS     r3,r3,#0x2e
;;;300    	FormAD7705->BtnRet.Top = BTN_RET_Y;
0000c4  f8a0309c          STRH     r3,[r0,#0x9c]
;;;301    	FormAD7705->BtnRet.Height = BTN_RET_H;
0000c8  2220              MOVS     r2,#0x20
0000ca  f8a0209e          STRH     r2,[r0,#0x9e]
;;;302    	FormAD7705->BtnRet.Width = BTN_RET_W;
0000ce  223c              MOVS     r2,#0x3c
0000d0  f8a020a0          STRH     r2,[r0,#0xa0]
;;;303    	FormAD7705->BtnRet.pCaption = BTN_RET_TEXT;
0000d4  a21b              ADR      r2,|L2.324|
;;;304    	FormAD7705->BtnRet.Font = &FormAD7705->FontBtn;
0000d6  f8c020a8          STR      r2,[r0,#0xa8]
0000da  f1000210          ADD      r2,r0,#0x10
0000de  f8402fa4          STR      r2,[r0,#0xa4]!
;;;305    	FormAD7705->BtnRet.Focus = 0;
0000e2  7201              STRB     r1,[r0,#8]
;;;306    }
0000e4  bdf0              POP      {r4-r7,pc}
;;;307    
                          ENDP

0000e6  0000              DCW      0x0000
                  |L2.232|
                          DCD      ||.data||
                  |L2.236|
                          DCD      g_LcdHeight
                  |L2.240|
                          DCD      g_LcdWidth
                  |L2.244|
0000f4  41443737          DCB      "AD7705",196,163,191,233,178,226,202,212,179,204,208,242
0000f8  3035c4a3
0000fc  bfe9b2e2
000100  cad4b3cc
000104  d0f2    
000106  2e2e2e00          DCB      "...",0
00010a  00                DCB      0
00010b  00                DCB      0
                  |L2.268|
00010c  cda8b5c0          DCB      205,168,181,192,"1 : ",0
000110  31203a20
000114  00      
000115  00                DCB      0
000116  00                DCB      0
000117  00                DCB      0
                  |L2.280|
000118  cda8b5c0          DCB      205,168,181,192,"2 : ",0
00011c  32203a20
000120  00      
000121  00                DCB      0
000122  00                DCB      0
000123  00                DCB      0
                  |L2.292|
000124  2d2d2d2d          DCB      "----",0
000128  00      
000129  00                DCB      0
00012a  00                DCB      0
00012b  00                DCB      0
                  |L2.300|
00012c  30303030          DCB      "0000.0000",0
000130  2e303030
000134  3000    
000136  00                DCB      0
000137  00                DCB      0
                  |L2.312|
000138  30303030          DCB      "00000.0000",0
00013c  302e3030
000140  303000  
000143  00                DCB      0
                  |L2.324|
000144  b7b5bbd8          DCB      183,181,187,216,0
000148  00      
000149  00                DCB      0
00014a  00                DCB      0
00014b  00                DCB      0

                          AREA ||i.TestAD7705||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  TestAD7705 PROC
;;;87     */
;;;88     void TestAD7705(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;89     {
;;;90     	uint8_t ucKeyCode;		/* 按键代码 */
;;;91     	uint8_t ucTouch;		/* 触摸事件 */
;;;92     	uint8_t fQuit = 0;
;;;93     	int16_t tpX, tpY;
;;;94     	FormAD7705_T form;
;;;95     	uint16_t adc1, adc2;
;;;96     
;;;97     	FormAD7705 = &form;
000004  4c59              LDR      r4,|L3.364|
000006  b0c1              SUB      sp,sp,#0x104          ;89
000008  a802              ADD      r0,sp,#8
00000a  f04f0800          MOV      r8,#0                 ;92
;;;98     	InitFormAD7705();
00000e  6020              STR      r0,[r4,#0]  ; FormAD7705
000010  f7fffffe          BL       InitFormAD7705
;;;99     	DispFormAD7705();
000014  f7fffffe          BL       DispFormAD7705
;;;100    
;;;101    	bsp_InitTM7705();			/* 初始化配置TM7705 */
000018  f7fffffe          BL       bsp_InitTM7705
;;;102    
;;;103    	if (g_TM7705_OK == 0)	
00001c  4854              LDR      r0,|L3.368|
00001e  46c3              MOV      r11,r8
000020  7800              LDRB     r0,[r0,#0]  ; g_TM7705_OK
000022  2800              CMP      r0,#0
000024  d04c              BEQ      |L3.192|
;;;104    	{
;;;105    		FormAD7705->Label5.pCaption = "未检测到 AD7705";
;;;106    		FormAD7705->Label5.Font->FrontColor = CL_RED; 	/* 设置红色字体 */
;;;107    		LCD_DrawLabel(&FormAD7705->Label5);
;;;108    		FormAD7705->Label5.Font->FrontColor = CL_BLACK; 	/* 恢复黑色字体 */
;;;109    	}
;;;110    	else	
;;;111    	{		
;;;112    		FormAD7705->Label5.pCaption = "已检测到 AD7705";
000026  6820              LDR      r0,[r4,#0]  ; FormAD7705
000028  a152              ADR      r1,|L3.372|
00002a  f8c01094          STR      r1,[r0,#0x94]
00002e  3084              ADDS     r0,r0,#0x84
;;;113    		LCD_DrawLabel(&FormAD7705->Label5);
000030  f7fffffe          BL       LCD_DrawLabel
;;;114    		
;;;115    		TM7705_CalibSelf(1);		/* 自校准。执行时间较长，约180ms */
000034  2001              MOVS     r0,#1
000036  f7fffffe          BL       TM7705_CalibSelf
;;;116    		adc1 = TM7705_ReadAdc(1);
00003a  2001              MOVS     r0,#1
00003c  f7fffffe          BL       TM7705_ReadAdc
;;;117    
;;;118    		TM7705_CalibSelf(2);		/* 自校准。执行时间较长，约180ms */
000040  2002              MOVS     r0,#2
000042  f7fffffe          BL       TM7705_CalibSelf
;;;119    		adc2 = TM7705_ReadAdc(2);
000046  2002              MOVS     r0,#2
000048  f7fffffe          BL       TM7705_ReadAdc
                  |L3.76|
;;;120    	}
;;;121    	
;;;122    
;;;123    	/* 进入主程序循环体 */
;;;124    	while (fQuit == 0)
;;;125    	{
;;;126    		bsp_Idle();
;;;127    
;;;128    		//TM7705_Scan1();		/* 扫描ADC通道1 */
;;;129    		TM7705_Scan2();		/* 扫描两个个ADC通道, 无等待的 */
;;;130    
;;;131    		{
;;;132    			/* 读取扫描结果 (结果定时读取即可) */
;;;133    			adc1 = TM7705_GetAdc1();
;;;134    			adc2 = TM7705_GetAdc2();
;;;135    			
;;;136    			/* 打印采集数据 */
;;;137    			{
;;;138    				int volt1, volt2;
;;;139    				char buf[64];
00004c  ae2e              ADD      r6,sp,#0xb8
;;;140    
;;;141    				/* 计算实际电压值（近似估算的），如需准确，请进行校准 */
;;;142    				volt1 = (adc1 * 5000) / 65535;
00004e  f64f7aff          MOV      r10,#0xffff
000052  46a1              MOV      r9,r4                 ;97
                  |L3.84|
000054  f7fffffe          BL       bsp_Idle
000058  f7fffffe          BL       TM7705_Scan2
00005c  f7fffffe          BL       TM7705_GetAdc1
000060  4604              MOV      r4,r0                 ;133
000062  f7fffffe          BL       TM7705_GetAdc2
000066  4605              MOV      r5,r0                 ;134
000068  f2413088          MOV      r0,#0x1388
00006c  fb04f100          MUL      r1,r4,r0
000070  fbb1f3fa          UDIV     r3,r1,r10
;;;143    				volt2 = (adc2 * 5000) / 65535;
000074  fb05f100          MUL      r1,r5,r0
000078  fbb1f7fa          UDIV     r7,r1,r10
;;;144    
;;;145    				/* 显示ADC采样结果 */
;;;146    				sprintf(buf, "%5d (%5dmV)", adc1, volt1);
00007c  4622              MOV      r2,r4
00007e  a141              ADR      r1,|L3.388|
000080  a82e              ADD      r0,sp,#0xb8
000082  f7fffffe          BL       __2sprintf
;;;147    				FormAD7705->Label2.pCaption = buf;
000086  f8d90000          LDR      r0,[r9,#0]  ; FormAD7705
00008a  464c              MOV      r4,r9
00008c  6586              STR      r6,[r0,#0x58]
00008e  3048              ADDS     r0,r0,#0x48
;;;148    				LCD_DrawLabel(&FormAD7705->Label2);
000090  f7fffffe          BL       LCD_DrawLabel
;;;149    
;;;150    				sprintf(buf, "%5d (%5dmV)", adc2, volt2);
000094  463b              MOV      r3,r7
000096  462a              MOV      r2,r5
000098  a13a              ADR      r1,|L3.388|
00009a  a82e              ADD      r0,sp,#0xb8
00009c  f7fffffe          BL       __2sprintf
;;;151    				FormAD7705->Label4.pCaption = buf;
0000a0  6820              LDR      r0,[r4,#0]  ; FormAD7705
0000a2  f8c06080          STR      r6,[r0,#0x80]
0000a6  3070              ADDS     r0,r0,#0x70
;;;152    				LCD_DrawLabel(&FormAD7705->Label4);
0000a8  f7fffffe          BL       LCD_DrawLabel
;;;153    			}
;;;154    		}
;;;155    
;;;156    		ucTouch = TOUCH_GetKey(&tpX, &tpY);	/* 读取触摸事件 */
0000ac  a93f              ADD      r1,sp,#0xfc
0000ae  a83e              ADD      r0,sp,#0xf8
0000b0  f7fffffe          BL       TOUCH_GetKey
;;;157    		if (ucTouch != TOUCH_NONE)
0000b4  b398              CBZ      r0,|L3.286|
;;;158    		{
;;;159    			switch (ucTouch)
0000b6  2801              CMP      r0,#1
0000b8  d015              BEQ      |L3.230|
0000ba  2803              CMP      r0,#3
0000bc  d12f              BNE      |L3.286|
0000be  e036              B        |L3.302|
                  |L3.192|
0000c0  6820              LDR      r0,[r4,#0]            ;105  ; FormAD7705
0000c2  a133              ADR      r1,|L3.400|
0000c4  f8c01094          STR      r1,[r0,#0x94]         ;106
0000c8  f8d00090          LDR      r0,[r0,#0x90]         ;106
0000cc  f44f4178          MOV      r1,#0xf800            ;106
0000d0  8041              STRH     r1,[r0,#2]            ;106
0000d2  6820              LDR      r0,[r4,#0]            ;107  ; FormAD7705
0000d4  3084              ADDS     r0,r0,#0x84           ;107
0000d6  f7fffffe          BL       LCD_DrawLabel
0000da  6821              LDR      r1,[r4,#0]            ;108  ; FormAD7705
0000dc  f8d11090          LDR      r1,[r1,#0x90]         ;108
0000e0  f8a1b002          STRH     r11,[r1,#2]           ;108
0000e4  e7b2              B        |L3.76|
                  |L3.230|
;;;160    			{
;;;161    				case TOUCH_DOWN:		/* 触笔按下事件 */
;;;162    					if (TOUCH_InRect(tpX, tpY, BTN_RET_X, BTN_RET_Y, BTN_RET_H, BTN_RET_W))
0000e6  213c              MOVS     r1,#0x3c
0000e8  2020              MOVS     r0,#0x20
0000ea  e9cd0100          STRD     r0,r1,[sp,#0]
0000ee  482c              LDR      r0,|L3.416|
0000f0  8800              LDRH     r0,[r0,#0]  ; g_LcdHeight
0000f2  382e              SUBS     r0,r0,#0x2e
0000f4  b283              UXTH     r3,r0
0000f6  482b              LDR      r0,|L3.420|
0000f8  8800              LDRH     r0,[r0,#0]  ; g_LcdWidth
0000fa  3845              SUBS     r0,r0,#0x45
0000fc  b282              UXTH     r2,r0
0000fe  f8bd00fc          LDRH     r0,[sp,#0xfc]
000102  b281              UXTH     r1,r0
000104  f8bd00f8          LDRH     r0,[sp,#0xf8]
000108  b280              UXTH     r0,r0
00010a  f7fffffe          BL       TOUCH_InRect
00010e  b130              CBZ      r0,|L3.286|
;;;163    					{
;;;164    						FormAD7705->BtnRet.Focus = 1;
000110  6820              LDR      r0,[r4,#0]  ; FormAD7705
000112  2101              MOVS     r1,#1
000114  f88010ac          STRB     r1,[r0,#0xac]
                  |L3.280|
000118  3098              ADDS     r0,r0,#0x98
;;;165    						LCD_DrawButton(&FormAD7705->BtnRet);
00011a  f7fffffe          BL       LCD_DrawButton
                  |L3.286|
;;;166    					}
;;;167    					break;
;;;168    
;;;169    				case TOUCH_RELEASE:		/* 触笔释放事件 */
;;;170    					if (TOUCH_InRect(tpX, tpY, BTN_RET_X, BTN_RET_Y, BTN_RET_H, BTN_RET_W))
;;;171    					{
;;;172    						FormAD7705->BtnRet.Focus = 0;
;;;173    						LCD_DrawButton(&FormAD7705->BtnRet);
;;;174    						fQuit = 1;	/* 返回 */
;;;175    					}
;;;176    					else	/* 按钮失去焦点 */
;;;177    					{
;;;178    						FormAD7705->BtnRet.Focus = 0;
;;;179    						LCD_DrawButton(&FormAD7705->BtnRet);
;;;180    					}
;;;181    					break;
;;;182    			}
;;;183    		}
;;;184    
;;;185    		/* 处理按键事件 */
;;;186    		ucKeyCode = bsp_GetKey();
00011e  f7fffffe          BL       bsp_GetKey
000122  f1b80f00          CMP      r8,#0                 ;124
;;;187    		if (ucKeyCode > 0)
000126  d095              BEQ      |L3.84|
;;;188    		{
;;;189    			/* 有键按下 */
;;;190    			switch (ucKeyCode)
;;;191    			{
;;;192    				case KEY_DOWN_K1:		/* K1键 */
;;;193    					break;
;;;194    
;;;195    				case KEY_DOWN_K2:		/* K2键按下 */
;;;196    					break;
;;;197    
;;;198    				case KEY_DOWN_K3:		/* K3键按下 */
;;;199    					break;
;;;200    
;;;201    				case JOY_DOWN_U:		/* 摇杆UP键按下 */
;;;202    					break;
;;;203    
;;;204    				case JOY_DOWN_D:		/* 摇杆DOWN键按下 */
;;;205    					break;
;;;206    
;;;207    				case JOY_DOWN_L:		/* 摇杆LEFT键按下 */
;;;208    					break;
;;;209    
;;;210    				case JOY_DOWN_R:		/* 摇杆RIGHT键按下 */
;;;211    					break;
;;;212    
;;;213    				case JOY_DOWN_OK:		/* 摇杆OK键按下 */
;;;214    					break;
;;;215    
;;;216    				default:
;;;217    					break;
;;;218    			}
;;;219    		}
;;;220    	}
;;;221    }
000128  b041              ADD      sp,sp,#0x104
00012a  e8bd8ff0          POP      {r4-r11,pc}
                  |L3.302|
00012e  213c              MOVS     r1,#0x3c              ;170
000130  2020              MOVS     r0,#0x20              ;170
000132  e9cd0100          STRD     r0,r1,[sp,#0]         ;170
000136  481a              LDR      r0,|L3.416|
000138  8800              LDRH     r0,[r0,#0]            ;170  ; g_LcdHeight
00013a  382e              SUBS     r0,r0,#0x2e           ;170
00013c  b283              UXTH     r3,r0                 ;170
00013e  4819              LDR      r0,|L3.420|
000140  8800              LDRH     r0,[r0,#0]            ;170  ; g_LcdWidth
000142  3845              SUBS     r0,r0,#0x45           ;170
000144  b282              UXTH     r2,r0                 ;170
000146  f8bd00fc          LDRH     r0,[sp,#0xfc]         ;170
00014a  b281              UXTH     r1,r0                 ;170
00014c  f8bd00f8          LDRH     r0,[sp,#0xf8]         ;170
000150  b280              UXTH     r0,r0                 ;170
000152  f7fffffe          BL       TOUCH_InRect
000156  2800              CMP      r0,#0                 ;170
000158  6820              LDR      r0,[r4,#0]            ;178  ; FormAD7705
00015a  f880b0ac          STRB     r11,[r0,#0xac]        ;178
00015e  d0db              BEQ      |L3.280|
000160  3098              ADDS     r0,r0,#0x98           ;170
000162  f7fffffe          BL       LCD_DrawButton
000166  f04f0801          MOV      r8,#1                 ;174
00016a  e7d8              B        |L3.286|
;;;222    
                          ENDP

                  |L3.364|
                          DCD      ||.data||
                  |L3.368|
                          DCD      g_TM7705_OK
                  |L3.372|
000174  d2d1bcec          DCB      210,209,188,236,178,226,181,189," AD7705",0
000178  b2e2b5bd
00017c  20414437
000180  37303500
                  |L3.388|
000184  25356420          DCB      "%5d (%5dmV)",0
000188  28253564
00018c  6d562900
                  |L3.400|
000190  ceb4bcec          DCB      206,180,188,236,178,226,181,189," AD7705",0
000194  b2e2b5bd
000198  20414437
00019c  37303500
                  |L3.416|
                          DCD      g_LcdHeight
                  |L3.420|
                          DCD      g_LcdWidth

                          AREA ||.data||, DATA, ALIGN=2

                  FormAD7705
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\User\\app\\src\\ad7705_test.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___13_ad7705_test_c_d3230e79____REV16|
#line 114 "..\\..\\Libraries\\CMSIS\\Include\\core_cmInstr.h"
|__asm___13_ad7705_test_c_d3230e79____REV16| PROC
#line 115

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___13_ad7705_test_c_d3230e79____REVSH|
#line 128
|__asm___13_ad7705_test_c_d3230e79____REVSH| PROC
#line 129

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
